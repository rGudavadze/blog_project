{% extends "base.html" %}

{% block title %}
    <title>Blogs</title>
    <style>
        .blog-forms-title, .blog-forms-post{
            width: 50%;
            margin: auto;
        }
        .blog-forms-post{
            height: 80px;
            overflow-wrap: break-word;
        }
        #blog-id{
            width: 45%;
            margin: auto;
            border: 1px solid grey;
            border-radius: 15px;
            padding: 20px;
        }
        header, footer {
              display: flex;
              flex-direction: row;
        }
        header .profile-thumbnail {
              width: 50px;
              height: 50px;
              border-radius: 15px;
        }
        header .profile-name {
              display: flex;
              flex-direction: column;
              justify-content: center;
              margin-left: 10px;
              color: #cedbd2;
        }
        header .like-btn {
              display: flex;
              margin: 0 0 0 auto;
        }
        header .like-btn button {
              background-color: #375CEF;
              color: white;
              height: 40px;
              width: 60px;
              border: 0;
              border-radius: 7px;
              padding: 5px;
        }
        #inner p {
              margin: 10px 20px 10px 20px;
              font-size: 18px;
              color: #cedbd2;
        }
        #inner hr {
              margin: 20px 0;
              border-style: solid;
              opacity: 0.1;
        }
        #more-button{
            background-color: #258f42;
            padding: 10px;
            border-radius: 10px;
        }
        .date{
            color: #cedbd2;
        }
    </style>
{% endblock %}

{% block content %}

<div class="container">
    <form method="post", class="form-blog", style="color:white">
        {{ form.hidden_tag() }}
        <br>

        {{ form.title.label() }}
        {{ form.title(class="form-control blog-forms-title", placeholder="Title") }}

        {{ form.post.label() }}
        {{ form.post(class="form-control blog-forms-post", placeholder="Post Here") }}

        <br>
        {{ form.submit(class="btn btn-lg btn-block btn-primary") }}
    </form>
</div>
<br><br>
{% for p in posts %}
<br>
<div id="blog-id">
    <header>
        <img src="https://lifelinemedicalservices.co.uk/wp-content/uploads/2020/06/blank-profile-picture-973460_1280.jpg" alt="Quincy Larson's profile picture" class="profile-thumbnail">
        <div class="profile-name">
          <h3>{{ p.owned_user.username }}</h3>
        </div>
        <div class="like-btn">
          <button>Like</button>
        </div>
    </header>
    <div id="inner">
        <p>{{p.post[:120]}}...</p>
        <p style="margin-top:20px;">
            <a class="text-white" id="more-button" href="/blogs/{{p.id}}">See All</a>
        </p>
        <hr>
        <span class="date">{{p.date}}</span>
    </div>
</div>

{% endfor %}

{% endblock %}